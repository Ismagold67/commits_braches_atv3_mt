6

{% block scripts %}
<head>
    <title>Cadastro</title>
    <script>
            function validarForm(event) {
                event.preventDefault()
                var usu = document.getElementById("email").value;
                var pwd = document.getElementById("password").value;
                var confirm_password = document.getElementById("confirm_password").value;
                var regra = /^(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*(),.?":{}|<>])[A-Za-z\d!@#$%^&*(),.?":{}|<>]{6,}$/;
    
                if(!regra.test(pwd)) {
                    alert("A senha deve ter no mínimo 6 caracteres, conter pelo menos uma letra maiúscula, um número e um caractere especial.")
                } else {
                    if(pwd == confirm_password) {
                        window.location.href = '/login'
                    } else {
                        alert("A senha de confirmação precisa ser igual!!")
                    }
                }
            }
    </script>
</head>
{% endblock %}

{% block conteudo %}

<h2>Seja bem-vindo(a) {{nome}}</h2> 
<!-- ao clickar no botão, no submit vai para a rota /submeterCadastro -->
<br />
<form action="/submit" method="POST">
    <label for="nome">Nome completo:</label>
    <input type="text" id="nome" name="nome" required><br><br>

    <label for="nome">CPF</label>
    <input type="text" id="CPF" name="CPF" required><br><br>

    <label for="nome">Email</label>
    <input type="email" id="email" name="email" required><br><br>

    <label for="telefone">Telefone:</label>
    <input type="text" id="telefone" name="telefone" required><br><br>

    <label for="endereco">Endereço:</label>
    <input type="text" id="endereco" name="endereco" required><br><br>

    <label for="password">Senha:</label>
    <input type="password" id="password" name="password" required><br><br>

    <label for="confirm_password">Confirmação de Senha:</label>
    <input type="confirm_password" id="confirm_password" name="confirm_password" required><br><br>

    <input type="submit" value="Cadastrar" onclick="validarForm(event)">
</form>

{% endblock %}